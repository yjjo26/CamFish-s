# **통합 해양 레저 및 캠핑 플랫폼 구축을 위한 데이터베이스 아키텍처 및 SQL 설계 보고서**

## **1\. 서론: 플랫폼 아키텍처 비전 및 기술적 타당성 분석**

현대 레저 산업의 디지털 전환은 단순한 정보의 나열을 넘어, 사용자 경험(UX) 중심의 맥락적 데이터 설계를 요구한다. 낚시와 캠핑이라는 두 가지 거대한 아웃도어 도메인을 단일 플랫폼으로 통합하려는 시도는 데이터의 이질성(Heterogeneity)을 극복하고, 시공간적 연관성(Spatio-temporal correlation)을 체계화하는 데이터베이스 아키텍처를 필요로 한다. 본 보고서는 사용자 요구사항인 낚시 포인트(물때, 어종, 미끼 등)와 캠핑 포인트(장비, 음식, 편의시설)의 정밀한 관리, 그리고 이를 연결하는 경로 탐색(Route Planning) 기능을 지원하기 위해 수파베이스(Supabase)와 포스트그레스큐엘(PostgreSQL)의 공간 정보 확장 모듈인 PostGIS를 기반으로 한 심층적인 스키마 설계를 제시한다.

특히 본 설계는 제공된 100여 개 이상의 실제 장소 데이터1를 기반으로, 대한민국 해양 환경의 특수성인 '물때(Tide)' 시스템과 계절별 어종 변화2, 그리고 캠핑의 유형별(오토, 노지, 차박) 필수 장비 및 식단 데이터3를 관계형 데이터 모델로 정규화하는 데 중점을 둔다. 나아가, 단순한 지점(Point) 저장을 넘어, 사용자가 설정한 경로 주변의 주유소, 맛집 등의 편의시설을 반경 검색(Radius Search) 알고리즘을 통해 실시간으로 제안할 수 있는 지리정보시스템(GIS) 기반의 백엔드 로직을 구현한다.

## ---

**2\. 데이터베이스 기술 스택 및 공간 데이터 전략**

### **2.1 Supabase와 PostgreSQL의 선정 배경**

본 플랫폼의 핵심 요구사항인 '위치 기반 서비스(LBS)'와 '실시간 경로 설정'을 충족하기 위해 Supabase를 BaaS(Backend-as-a-Service)로 채택한다. 이는 단순한 데이터 저장을 넘어, PostgreSQL의 강력한 RDBMS 기능을 클라우드 네이티브 환경에서 제공하기 때문이다.

* **PostGIS 확장성:** 위도(Latitude)와 경도(Longitude)를 단순한 실수형(Float) 컬럼으로 관리할 경우, 지구의 곡률을 고려한 거리 계산이나 "경로 주변 5km 이내 검색"과 같은 복잡한 공간 쿼리 연산 시 성능 저하와 정밀도 문제가 발생한다. 본 설계에서는 GEOGRAPHY(POINT, 4326\) 타입을 사용하여 WGS 84 좌표계 기반의 정밀한 공간 연산을 지원한다.  
* **JSONB를 활용한 유연성:** 낚시와 캠핑은 각기 다른 속성을 가진다. 낚시는 '물때', '수심', '대상 어종'이 중요하고, 캠핑은 '바닥 형태(파쇄석/데크)', '전기 사용 여부'가 중요하다. 이를 단일 테이블에 모두 컬럼화하는 것은 비효율적이므로, 공통 속성은 정규화하고 도메인 특화 속성은 JSONB 필드로 관리하여 스키마의 유연성을 확보한다.

### **2.2 공간 인덱싱(Spatial Indexing) 전략**

수천, 수만 개의 포인트 데이터(POI) 중에서 사용자의 현재 위치나 이동 경로 주변의 데이터를 0.1초 이내에 조회하기 위해 GiST(Generalized Search Tree) 인덱스를 적용한다. 이는 R-Tree 알고리즘을 기반으로 공간 데이터를 계층적으로 분할하여 저장함으로써, 일반적인 B-Tree 인덱스로는 불가능한 다차원 공간 검색 성능을 극대화한다.

## ---

**3\. 핵심 엔티티 설계 및 스키마 상세 (DDL)**

데이터베이스의 근간이 되는 테이블 구조는 확장성과 무결성을 최우선으로 설계되었다. 모든 테이블은 UUID를 기본 키(Primary Key)로 사용하여 분산 시스템 환경에서의 고유성을 보장한다.

### **3.1 확장을 위한 기본 설정**

가장 먼저 공간 연산과 텍스트 검색을 위한 확장을 활성화한다.

SQL

\-- PostGIS: 거리 계산, 반경 검색 등 공간 쿼리 지원  
CREATE EXTENSION IF NOT EXISTS postgis;  
\-- pg\_trgm: 장소명, 어종명 등에 대한 유사도 검색(Like 검색 성능 향상) 지원  
CREATE EXTENSION IF NOT EXISTS pg\_trgm;

### **3.2 열거형(Enum) 타입 정의**

데이터의 일관성을 유지하고 어플리케이션 레벨에서의 유효성 검증 부하를 줄이기 위해, 데이터베이스 레벨에서 타입을 강제한다. 이는 연구 자료2에서 도출된 분류 체계를 반영한다.

SQL

\-- 장소의 대분류: 낚시, 캠핑, 편의시설, 관광지  
CREATE TYPE place\_type AS ENUM ('FISHING', 'CAMPING', 'AMENITY', 'TOURIST\_SPOT');

\-- 낚시 포인트 상세 유형  
CREATE TYPE fishing\_spot\_type AS ENUM ('BREAKWATER', 'BOAT', 'ROCKS', 'RESERVOIR', 'WHARF', 'SEASIDE');

\-- 캠핑 포인트 상세 유형 (노지/차박 구분 포함)   
CREATE TYPE camping\_spot\_type AS ENUM ('AUTO\_CAMPING', 'CAR\_CAMPING', 'BACKPACKING', 'GLAMPING', 'CARAVAN');

\-- 편의시설 유형  
CREATE TYPE amenity\_type AS ENUM ('GAS\_STATION', 'RESTAURANT', 'CONVENIENCE\_STORE', 'BAIT\_SHOP', 'TOILET');

\-- 물때(Tide) 스케일: 한국의 '물' 체계 반영 (1물\~15물/조금/무시) \[5\]  
CREATE TYPE tide\_scale\_enum AS ENUM ('1-MUL', '2-MUL', '3-MUL', '4-MUL', '5-MUL', '6-MUL', '7-MUL', '8-MUL', '9-MUL', '10-MUL', '11-MUL', '12-MUL', '13-MUL', '14-MUL', 'JOGEUM', 'MUSI');

\-- 계절 분류  
CREATE TYPE season\_enum AS ENUM ('SPRING', 'SUMMER', 'AUTUMN', 'WINTER');

### **3.3 통합 장소(Places) 슈퍼 테이블**

모든 지리적 위치 데이터의 부모가 되는 테이블이다. 공통 속성인 이름, 주소, 좌표를 관리하며, type 컬럼을 통해 구체적인 성격을 구분한다. 1에 제공된 100여 개의 데이터를 수용할 수 있는 구조다.

SQL

CREATE TABLE public.places (  
    id UUID PRIMARY KEY DEFAULT gen\_random\_uuid(),  
    name TEXT NOT NULL,  
    type place\_type NOT NULL,  
    address TEXT,  
    description TEXT,  
      
    \-- 공간 데이터: WGS 84 좌표계 사용  
    location GEOGRAPHY(POINT, 4326) NOT NULL,  
      
    \-- 편의를 위한 위경도 자동 생성 컬럼 (Virtual Column)  
    lat DOUBLE PRECISION GENERATED ALWAYS AS (ST\_Y(location::geometry)) STORED,  
    lng DOUBLE PRECISION GENERATED ALWAYS AS (ST\_X(location::geometry)) STORED,  
      
    thumbnail\_url TEXT,  
    contact\_phone TEXT,  
      
    created\_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),  
    updated\_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()  
);

\-- 공간 검색 성능을 위한 GiST 인덱스  
CREATE INDEX idx\_places\_location ON public.places USING GIST (location);  
\-- 이름 검색을 위한 Trigram 인덱스  
CREATE INDEX idx\_places\_name ON public.places USING GIST (name gist\_trgm\_ops);  
\-- 타입 필터링을 위한 B-Tree 인덱스  
CREATE INDEX idx\_places\_type ON public.places (type);

### **3.4 낚시 도메인 특화 스키마**

낚시 정보는 단순히 위치를 아는 것을 넘어, '언제', '무엇을', '어떻게' 잡을 수 있는지가 핵심이다. 이를 위해 생물학적 정보와 환경 정보를 정규화한다.

#### **3.4.1 어종(Fish Species) 및 미끼(Baits) 분류**

연구 자료2에 따르면 어종별 선호 미끼와 시즌이 명확히 구분된다. 예를 들어, 우럭은 웜과 생미끼 모두에 반응하지만, 쭈꾸미는 에기(Egi)가 필수적이다.

SQL

\-- 어종 정보 테이블  
CREATE TABLE public.fish\_species (  
    id UUID PRIMARY KEY DEFAULT gen\_random\_uuid(),  
    korean\_name TEXT NOT NULL UNIQUE, \-- 예: 우럭, 광어  
    scientific\_name TEXT,  
    habitat\_description TEXT, \-- 서식지 특성 (암초, 모래바닥 등)  
    image\_url TEXT  
);

\-- 미끼 정보 테이블  
CREATE TABLE public.baits (  
    id UUID PRIMARY KEY DEFAULT gen\_random\_uuid(),  
    name TEXT NOT NULL UNIQUE, \-- 예: 갯지렁이, 크릴, 에기  
    category TEXT \-- 'LIVE'(생미끼), 'LURE'(루어), 'POWDER'(집어제)  
);

\-- 어종-미끼 관계 테이블 (다대다 관계)  
CREATE TABLE public.species\_bait\_map (  
    species\_id UUID REFERENCES public.fish\_species(id) ON DELETE CASCADE,  
    bait\_id UUID REFERENCES public.baits(id) ON DELETE CASCADE,  
    effectiveness\_score INTEGER DEFAULT 5, \-- 1\~5점 척도로 미끼 효율성 표시  
    PRIMARY KEY (species\_id, bait\_id)  
);

#### **3.4.2 낚시 포인트 상세 정보**

각 낚시 포인트는 해당 지점에서 잡히는 어종과 적합한 물때 정보가 매핑되어야 한다. 연구 자료1의 '을왕리 선녀바위'가 '우럭, 광어' 포인트임을 시스템적으로 표현한다.

SQL

CREATE TABLE public.fishing\_spot\_details (  
    place\_id UUID PRIMARY KEY REFERENCES public.places(id) ON DELETE CASCADE,  
    spot\_type fishing\_spot\_type NOT NULL,  
      
    \-- 환경 정보  
    average\_depth\_m DECIMAL(4,1), \-- 평균 수심  
    is\_night\_fishing\_allowed BOOLEAN DEFAULT TRUE,  
    is\_toilet\_available BOOLEAN DEFAULT FALSE,  
    is\_parking\_available BOOLEAN DEFAULT TRUE,  
      
    \-- 추천 물때 (배열 형태로 여러 물때 저장 가능)  
    recommended\_tides tide\_scale\_enum,  
      
    \-- 낚시 금지 구역 여부 등 법적 제약 사항  
    legal\_restrictions TEXT  
);

\-- 포인트별 출몰 어종 및 시즌 매핑 (핵심 정보)  
CREATE TABLE public.spot\_species\_season (  
    id UUID PRIMARY KEY DEFAULT gen\_random\_uuid(),  
    place\_id UUID REFERENCES public.places(id) ON DELETE CASCADE,  
    species\_id UUID REFERENCES public.fish\_species(id) ON DELETE CASCADE,  
    season season\_enum NOT NULL,  
      
    \-- 구체적인 조황 팁 (예: "만조 전후 2시간 입질 활발")  
    fishing\_tip TEXT,  
      
    UNIQUE(place\_id, species\_id, season)  
);

### **3.5 캠핑 도메인 특화 스키마**

캠핑은 장비(Gear)와 보급(Logistics)의 싸움이다. 오토캠핑과 노지 캠핑은 필요 장비가 완전히 다르며4, 주변 관광지와의 연계성도 중요하다.

#### **3.5.1 캠핑 장비 및 음식 데이터베이스**

SQL

\-- 캠핑 장비 마스터  
CREATE TABLE public.camping\_gear (  
    id UUID PRIMARY KEY DEFAULT gen\_random\_uuid(),  
    name TEXT NOT NULL, \-- 예: 릴선, 화로대, 타프  
    category TEXT, \-- 'SHELTER', 'SLEEPING', 'KITCHEN', 'UTILITY'  
    is\_essential\_for\_winter BOOLEAN DEFAULT FALSE  
);

\-- 캠핑 요리 레시피 \[7, 8\]  
CREATE TABLE public.camping\_recipes (  
    id UUID PRIMARY KEY DEFAULT gen\_random\_uuid(),  
    name TEXT NOT NULL, \-- 예: 닭꼬치구이, 밀키트 낙곱새  
    ingredients TEXT, \-- 재료 목록  
    cooking\_method TEXT, \-- 조리법  
    difficulty\_level INTEGER CHECK (difficulty\_level BETWEEN 1 AND 5)  
);

\-- 캠핑 포인트 상세 정보  
CREATE TABLE public.camping\_spot\_details (  
    place\_id UUID PRIMARY KEY REFERENCES public.places(id) ON DELETE CASCADE,  
    camp\_type camping\_spot\_type NOT NULL,  
      
    \-- 바닥 형태 (팩 다운 가능 여부 판단용)  
    floor\_type TEXT, \-- 'DECK', 'CRUSHED\_STONE', 'GRASS', 'SAND'  
      
    \-- 시설 정보  
    has\_electricity BOOLEAN DEFAULT FALSE,  
    has\_hot\_water BOOLEAN DEFAULT FALSE,  
    has\_wifi BOOLEAN DEFAULT FALSE,  
    is\_pet\_friendly BOOLEAN DEFAULT FALSE,  
      
    base\_fee INTEGER, \-- 기본 요금  
    check\_in\_time TIME,  
    check\_out\_time TIME  
);

\-- 포인트별 필수/추천 장비 매핑 (예: "바람이 강하니 윈드스크린 필수")  
CREATE TABLE public.spot\_gear\_recommendation (  
    place\_id UUID REFERENCES public.places(id) ON DELETE CASCADE,  
    gear\_id UUID REFERENCES public.camping\_gear(id) ON DELETE CASCADE,  
    reason TEXT,  
    PRIMARY KEY (place\_id, gear\_id)  
);

### **3.6 경로 탐색 및 편의시설 연동 스키마**

사용자 쿼리의 핵심 요구사항인 '최종 목적지 및 최대 3개의 경유지'와 '경로 주변 편의시설'을 처리하기 위한 구조다.

SQL

\-- 사용자 경로(Route) 마스터  
CREATE TABLE public.user\_routes (  
    id UUID PRIMARY KEY DEFAULT gen\_random\_uuid(),  
    user\_id UUID REFERENCES auth.users(id) ON DELETE CASCADE, \-- Supabase Auth 연동  
    title TEXT NOT NULL,  
      
    start\_point GEOGRAPHY(POINT, 4326),  
    start\_address TEXT,  
      
    destination\_place\_id UUID REFERENCES public.places(id), \-- 최종 목적지  
      
    total\_distance\_km DECIMAL,  
    estimated\_duration\_min INTEGER,  
      
    created\_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()  
);

\-- 경유지(Waypoints) 테이블: 최대 3개 제약조건 관리  
CREATE TABLE public.route\_waypoints (  
    id UUID PRIMARY KEY DEFAULT gen\_random\_uuid(),  
    route\_id UUID REFERENCES public.user\_routes(id) ON DELETE CASCADE,  
      
    \-- 경유지는 등록된 장소일 수도 있고, 임의의 좌표일 수도 있음  
    place\_id UUID REFERENCES public.places(id),  
    custom\_location GEOGRAPHY(POINT, 4326),  
      
    visit\_order INTEGER NOT NULL CHECK (visit\_order BETWEEN 1 AND 3), \-- 순서 1\~3 강제  
    stopover\_reason TEXT, \-- 'MEAL', 'GAS', 'REST', 'SIGHTSEEING'  
      
    UNIQUE(route\_id, visit\_order)  
);

\-- 주변 편의시설 상세 (맛집, 주유소 등)  
CREATE TABLE public.amenity\_details (  
    place\_id UUID PRIMARY KEY REFERENCES public.places(id) ON DELETE CASCADE,  
    category amenity\_type NOT NULL,  
      
    rating DECIMAL(2,1), \-- 별점 (예: 4.5)  
    operating\_hours TEXT, \-- 영업 시간  
    signature\_menu TEXT \-- 맛집인 경우 대표 메뉴 \[9\]  
);

## ---

**4\. 데이터 구현 및 심층 분석 (Seed Data Logic)**

제공된 연구 자료1를 바탕으로 실제 데이터를 SQL로 변환한다. 이 과정은 단순 입력이 아니라, 연구 자료에서 추출한 인사이트를 데이터베이스 속성으로 매핑하는 과정이다.

### **4.1 낚시 및 캠핑 장소 데이터**

1  
연구 자료 1에 포함된 좌표는 lat, lng 순서이나 PostGIS 함수 ST\_MakePoint는 lng(x), lat(y) 순서를 따른다. 이를 정확히 처리해야 한다.

SQL

\-- 1\. 낚시 포인트 데이터 입력   
INSERT INTO public.places (name, type, address, location, description) VALUES  
\-- 인천/경기권  
('을왕리 선녀바위', 'FISHING', '인천광역시 중구 을왕동 678-188', ST\_SetSRID(ST\_MakePoint(126.3725, 37.4562), 4326), '우럭, 광어, 숭어 (갯바위/원투) \- 수도권 접근성 최상'),  
('궁평항 피싱피어', 'FISHING', '경기도 화성시 서신면 궁평항로 1049-24', ST\_SetSRID(ST\_MakePoint(126.6957, 37.1148), 4326), '망둥어, 숭어, 우럭 \- 가족 단위 안전한 낚시 가능'),  
('시화방조제', 'FISHING', '경기도 시흥시 정왕동', ST\_SetSRID(ST\_MakePoint(126.6394, 37.3055), 4326), '우럭, 삼치, 광어 \- 국민 포인트, 주말 혼잡 주의'),

\-- 충청권  
('태안 만리포 방파제', 'FISHING', '충남 태안군 소원면 모항리', ST\_SetSRID(ST\_MakePoint(126.1428, 36.7877), 4326), '학꽁치, 고등어, 우럭 \- 가을철 생활낚시 명소'),  
('보령 대천항', 'FISHING', '충남 보령시 신흑동', ST\_SetSRID(ST\_MakePoint(126.4975, 36.3243), 4326), '쭈꾸미, 갑오징어 \- 9\~11월 선상낚시 출조지'),

\-- 동해권  
('속초 아야진항', 'FISHING', '강원도 고성군 토성면 아야진리', ST\_SetSRID(ST\_MakePoint(128.5539, 38.2721), 4326), '임연수, 학꽁치, 감성돔 \- 갯바위와 방파제 혼합'),  
('울진 후포항', 'FISHING', '경북 울진군 후포면 울진대게로', ST\_SetSRID(ST\_MakePoint(129.4516, 36.6787), 4326), '대물 감성돔, 벵에돔 \- 겨울철 전문 꾼들의 성지');

\-- 2\. 캠핑 포인트 데이터 입력   
INSERT INTO public.places (name, type, address, location, description) VALUES  
\-- 경기권  
('가평 자라섬 캠핑장', 'CAMPING', '경기 가평군 가평읍 자라섬로 60', ST\_SetSRID(ST\_MakePoint(127.5147, 37.8172), 4326), '오토캠핑, 카라반 \- 국제 재즈 페스티벌 개최지, 넓은 잔디'),  
('포천 백운계곡 캠핑장', 'CAMPING', '경기 포천시 이동면', ST\_SetSRID(ST\_MakePoint(127.4208, 38.0538), 4326), '노지/오토 혼합 \- 여름철 물놀이와 이동갈비'),

\-- 충청권 (태안)  
('태안 몽산포 캠핑장', 'CAMPING', '충남 태안군 남면 신장리', ST\_SetSRID(ST\_MakePoint(126.2872, 36.6669), 4326), '오토/차박 \- 끝없는 소나무숲, 갯벌 체험(맛조개)'),

\-- 강원권  
('양양 죽도 오토캠핑장', 'CAMPING', '강원 양양군 현남면', ST\_SetSRID(ST\_MakePoint(128.7611, 37.9708), 4326), '오토캠핑 \- 서핑 비치 인접, 젊은 분위기');

\-- 3\. 편의시설 및 맛집 데이터 입력 \[9, 13, 14\]  
\-- 몽산포 주변 맛집 및 주유소  
INSERT INTO public.places (name, type, address, location, description) VALUES  
('옥당 (몽산포)', 'AMENITY', '충남 태안군 몽산포 인근', ST\_SetSRID(ST\_MakePoint(126.2890, 36.6680), 4326), '연잎밥 맛집, 평점 4.8 \- 캠핑 철수 후 점심 추천'),  
('왕서방 중화요리', 'AMENITY', '충남 태안군 몽산포 인근', ST\_SetSRID(ST\_MakePoint(126.2860, 36.6650), 4326), '짜장면/짬뽕, 평점 4.5 \- 현지인 추천'),  
('몽산포 주유소', 'AMENITY', '충남 태안군 남면 신장리', ST\_SetSRID(ST\_MakePoint(126.2900, 36.6700), 4326), '주유소 \- 등유 판매(동계 캠핑 필수)'),  
\-- 가평 자라섬 주변  
('가평 주유소', 'AMENITY', '경기 가평군 가평읍 가화로', ST\_SetSRID(ST\_MakePoint(127.5100, 37.8200), 4326), '24시 운영, 세차 가능 \- 캠핑 전후 정비');

### **4.2 도메인 지식의 데이터베이스화 (어종, 시즌, 미끼)**

단순히 "우럭이 잡힌다"는 정보는 낚시꾼에게 부족하다. 연구 자료2를 분석하여 "어떤 미끼로, 어느 시즌에 잡히는지"를 구조화한다.

SQL

\-- 1\. 어종 마스터 데이터  
INSERT INTO public.fish\_species (korean\_name, description) VALUES  
('우럭', '서해안 대표 어종. 락피쉬(Rockfish)로 불리며 암초 지대 바닥층에 서식. 연중 낚시 가능하나 봄/가을 피크.'),  
('광어', '여름철 루어 다운샷의 주 대상어. 모래 바닥에 서식하며 웜(Worm) 루어에 반응이 좋음.'),  
('쭈꾸미', '가을(9\~11월) 서해안 최고의 인기 어종. 에기(Egi)를 이용한 선상/워킹 낚시.'),  
('감성돔', '바다 낚시의 제왕. 경계심이 강하며 가을철 남해/서해 갯바위에서 크릴 미끼로 공략.'),  
('학꽁치', '가을/겨울철 방파제 표층을 회유. 입이 작아 작은 바늘과 곤쟁이 미끼 사용.'),  
('고등어', '가을철 회유성 어종. 카드 채비나 크릴을 이용해 마릿수 조과 가능.'),  
('갈치', '가을철 목포/여수 밤낚시의 꽃. 루어(지그헤드)나 생미끼(꽁치살) 사용.');

\-- 2\. 미끼 마스터 데이터  
INSERT INTO public.baits (name, category) VALUES  
('갯지렁이 (청개비)', 'LIVE'),  
('크릴 (Krill)', 'LIVE'),  
('오징어 살', 'LIVE'),  
('다운샷 웜 (Downshot Worm)', 'LURE'),  
('메탈지그 (Metal Jig)', 'LURE'),  
('에기 (Egi)', 'LURE'),  
('카드채비 (Sabiki)', 'LURE');

\-- 3\. 어종-미끼 매핑 (연구 자료 기반)  
\-- 우럭: 갯지렁이, 오징어, 웜  
INSERT INTO public.species\_bait\_map (species\_id, bait\_id, effectiveness\_score)  
SELECT f.id, b.id, 5 FROM public.fish\_species f, public.baits b   
WHERE f.korean\_name \= '우럭' AND b.name IN ('갯지렁이 (청개비)', '오징어 살', '다운샷 웜');

\-- 쭈꾸미: 에기  
INSERT INTO public.species\_bait\_map (species\_id, bait\_id, effectiveness\_score)  
SELECT f.id, b.id, 5 FROM public.fish\_species f, public.baits b   
WHERE f.korean\_name \= '쭈꾸미' AND b.name \= '에기 (Egi)';

\-- 고등어: 카드채비, 크릴  
INSERT INTO public.species\_bait\_map (species\_id, bait\_id, effectiveness\_score)  
SELECT f.id, b.id, 4 FROM public.fish\_species f, public.baits b   
WHERE f.korean\_name \= '고등어' AND b.name IN ('카드채비 (Sabiki)', '크릴 (Krill)');

### **4.3 포인트별 상세 속성 및 물때 매핑**

각 장소의 특성을 fishing\_spot\_details에 입력한다. 특히 연구 자료11에서 언급된 서해안 원투 낚시의 특성(뻘 지형, 조수간만의 차)을 반영하여 추천 물때를 설정한다.

SQL

\-- 을왕리 선녀바위: 갯바위, 만조 전후 유리 (7\~9물 추천)  
INSERT INTO public.fishing\_spot\_details (place\_id, spot\_type, recommended\_tides, is\_night\_fishing\_allowed)  
SELECT id, 'ROCKS', ARRAY\['7-MUL', '8-MUL', '9-MUL'\]::tide\_scale\_enum, TRUE  
FROM public.places WHERE name \= '을왕리 선녀바위';

\-- 궁평항 피싱피어: 가족 낚시, 물때 영향 적음 (안전함)  
INSERT INTO public.fishing\_spot\_details (place\_id, spot\_type, recommended\_tides, is\_toilet\_available)  
SELECT id, 'WHARF', ARRAY\['1-MUL', '2-MUL', '3-MUL', '4-MUL', '12-MUL'\]::tide\_scale\_enum, TRUE  
FROM public.places WHERE name \= '궁평항 피싱피어';

\-- 태안 몽산포 캠핑장: 오토캠핑, 평지  
INSERT INTO public.camping\_spot\_details (place\_id, camp\_type, floor\_type, has\_electricity, is\_pet\_friendly)  
SELECT id, 'AUTO\_CAMPING', 'SAND', TRUE, TRUE  
FROM public.places WHERE name \= '태안 몽산포 캠핑장';

### **4.4 캠핑 장비 및 요리 매핑**

사용자 요청 사항인 '장비'와 '음식' 정보를 구조화한다. 연구 자료8에 따르면 차박에는 평탄화 매트와 암막 커튼이 필수적이며, 캠핑 요리로는 닭꼬치와 밀키트가 추천된다.

SQL

\-- 장비 데이터  
INSERT INTO public.camping\_gear (name, category, is\_essential\_for\_winter) VALUES  
('평탄화 매트', 'SLEEPING', FALSE),  
('차량용 암막 커튼', 'SLEEPING', FALSE),  
('동계 침낭', 'SLEEPING', TRUE),  
('등유 난로 (파세코 등)', 'UTILITY', TRUE),  
('구이바다 (가스버너)', 'KITCHEN', FALSE);

\-- 요리 데이터  
INSERT INTO public.camping\_recipes (name, ingredients, cooking\_method, difficulty\_level) VALUES  
('캠핑 닭꼬치', ARRAY\['닭다리살', '대파', '데리야끼소스'\], '숯불이나 구이바다에 천천히 굽기', 2),  
('낙곱새 밀키트', ARRAY\['낙지', '곱창', '새우', '양념장'\], '그리들에 재료 넣고 끓이기', 1),  
('어묵탕', ARRAY\['꼬치어묵', '무', '국간장', '청양고추'\], '추운 날씨에 난로 위에서 끓여 먹기', 1);

\-- 몽산포 캠핑장(노지/모래 바닥)에 대한 장비 추천: 긴 팩이 필요함  
INSERT INTO public.spot\_gear\_recommendation (place\_id, gear\_id, reason)  
SELECT p.id, g.id, '모래 바닥이므로 길이가 긴 샌드팩 사용 권장'  
FROM public.places p, public.camping\_gear g  
WHERE p.name \= '태안 몽산포 캠핑장' AND g.name \= '평탄화 매트'; \-- 예시 매핑

## ---

**5\. 지리 공간 쿼리(Geospatial Query) 및 로직 구현**

본 플랫폼의 백엔드 로직 중 가장 중요한 부분은 사용자의 이동 경로와 주변 시설을 매칭하는 것이다.

### **5.1 경로 기반 편의시설 검색 (Buffer Search)**

단순한 반경 검색이 아니라, 경로(LineString)를 따라 이동하는 도중 접근 가능한 시설을 찾아야 한다. PostGIS의 ST\_DWithin 함수를 활용하여 경로 주변의 주유소와 맛집을 탐색한다.

**시나리오:** 사용자가 서울에서 출발하여 '태안 몽산포 캠핑장'으로 가는 경로를 생성했다. 이 경로의 5km 반경 내에 있는 '주유소'를 찾고 싶다.

SQL

\-- 1\. 경로 주변 주유소 검색 쿼리 예시  
SELECT   
    amenity.name,  
    amenity.address,  
    details.operating\_hours,  
    \-- 캠핑장까지의 남은 거리 계산 (선택적)  
    ST\_Distance(amenity.location, destination.location) / 1000.0 AS dist\_to\_dest\_km  
FROM   
    public.places AS amenity  
JOIN   
    public.amenity\_details AS details ON amenity.id \= details.place\_id  
CROSS JOIN   
    public.places AS destination  
WHERE   
    amenity.type \= 'AMENITY'   
    AND details.category \= 'GAS\_STATION'  
    AND destination.name \= '태안 몽산포 캠핑장'  
    \-- 몽산포 캠핑장 주변 10km 이내 검색 (실제로는 경로 LineString 버퍼 검색이 더 정확하나 여기선 반경 예시)  
    AND ST\_DWithin(amenity.location, destination.location, 10000)  
ORDER BY   
    dist\_to\_dest\_km ASC;

### **5.2 낚시/캠핑 통합 검색 뷰(View)**

프론트엔드에서 복잡한 조인 없이 데이터를 쉽게 조회할 수 있도록, 낚시 포인트 정보와 캠핑 정보를 통합하여 보여주는 뷰를 생성한다.

SQL

CREATE OR REPLACE VIEW public.v\_place\_overview AS  
SELECT   
    p.id,  
    p.name,  
    p.type,  
    p.lat,  
    p.lng,  
    p.description,  
    \-- 낚시 관련 정보 집계  
    fsd.spot\_type AS fishing\_type,  
    (  
        SELECT string\_agg(fs.korean\_name, ', ')  
        FROM public.spot\_species\_season sss  
        JOIN public.fish\_species fs ON sss.species\_id \= fs.id  
        WHERE sss.place\_id \= p.id  
    ) AS target\_species,  
    \-- 캠핑 관련 정보 집계  
    csd.camp\_type,  
    csd.has\_electricity,  
    csd.is\_pet\_friendly  
FROM   
    public.places p  
LEFT JOIN   
    public.fishing\_spot\_details fsd ON p.id \= fsd.place\_id  
LEFT JOIN   
    public.camping\_spot\_details csd ON p.id \= csd.place\_id;

## ---

**6\. 결론 및 향후 발전 방향**

본 보고서는 낚시와 캠핑이라는 두 레저 도메인을 통합하기 위해 정밀한 데이터베이스 아키텍처를 설계하였다. 주요 성과는 다음과 같다:

1. **공간 데이터의 정규화:** PostGIS를 도입하여 대한민국 전역의 포인트 데이터를 WGS 84 좌표계로 체계화하고, 거리 기반 쿼리 성능을 확보하였다.  
2. **생태 및 환경 데이터의 모델링:** 단순히 장소만 저장하는 것이 아니라, 해당 장소의 생태적 특성(어종, 시즌)과 물리적 환경(수심, 바닥 형태)을 관계형 데이터로 구현하여, "가을철 쭈꾸미 낚시가 가능한 오토캠핑장"과 같은 복합 쿼리를 가능하게 했다.  
3. **사용자 경험 중심의 로직:** 최대 3개의 경유지 설정 제약조건을 DB 레벨에서 구현하고, 경로 주변의 편의시설(주유소, 맛집)을 공간 인덱스를 통해 즉각적으로 제안할 수 있는 기반을 마련하였다.

이 설계는 향후 실시간 기상 API(기상청) 및 조석 API(국립해양조사원)와의 연동을 통해 정적 데이터를 동적 데이터로 전환하는 기반이 되며, 사용자 리뷰 및 커뮤니티 기능 확장을 위한 견고한 토대가 될 것이다.

#### **참고 자료**

1. 캠핑낚시데이터.txt  
2. 한국의 사계절과 월별 낚시 어종 완벽 가이드, 1월 25, 2026에 액세스, [https://milkyway2030.tistory.com/28](https://milkyway2030.tistory.com/28)  
3. 요리하는 캠퍼를 위한 캠핑 장비 필수템 TOP 10 \- 함께하면 더 맛있는 즐거움 \- METIZEN, 1월 25, 2026에 액세스, [https://metizen.co.kr/%EC%9A%94%EB%A6%AC%ED%95%98%EB%8A%94-%EC%BA%A0%ED%8D%BC%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%BA%A0%ED%95%91-%EC%9E%A5%EB%B9%84-%ED%95%84%EC%88%98%ED%85%9C-10/](https://metizen.co.kr/%EC%9A%94%EB%A6%AC%ED%95%98%EB%8A%94-%EC%BA%A0%ED%8D%BC%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%BA%A0%ED%95%91-%EC%9E%A5%EB%B9%84-%ED%95%84%EC%88%98%ED%85%9C-10/)  
4. 노지캠핑, 이대로 떠나면 망한다?\! 필수 체크리스트, 1월 25, 2026에 액세스, [https://krfishing1993.tistory.com/m/2](https://krfishing1993.tistory.com/m/2)  
5. 낚시미끼 총정리 ... 바다낚시 '미끼톱10' \- YouTube, 1월 25, 2026에 액세스, [https://www.youtube.com/watch?v=sQUWyDPRy9k](https://www.youtube.com/watch?v=sQUWyDPRy9k)  
6. 간단히 조리만 하면 되는 캠핑메뉴 11가지 추천\!\! 맛도보장\!\! \- YouTube, 1월 25, 2026에 액세스, [https://www.youtube.com/watch?v=roBoC\_eYgsU](https://www.youtube.com/watch?v=roBoC_eYgsU)  
7. 해양수산부 국립해양조사원\_조위관측소 운영 현황\_20250818 | 공공데이터포털, 1월 25, 2026에 액세스, [https://www.data.go.kr/data/15146602/fileData.do](https://www.data.go.kr/data/15146602/fileData.do)  
8. 특집 원투낚시 A to Z 1 시즌과 주력어종 \- 서해 쥐노래미 / 동해 가자미 / 남해 붕장어, 1월 25, 2026에 액세스, [https://m.fishingseasons.co.kr/news\_Detail.asp?b\_no=8668](https://m.fishingseasons.co.kr/news_Detail.asp?b_no=8668)  
9. 캠핑의 계절\! 차박용품 및 준비물 체크리스트(에어매트리스, 도킹텐트 등) \- 킥스사이다, 1월 25, 2026에 액세스, [https://kixxman.com/car-camping-checklist](https://kixxman.com/car-camping-checklist)